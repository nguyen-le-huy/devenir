import styles from './Footer.module.css';
import gsap from 'gsap';
import { useRef } from 'react';
import { useGSAP } from '@gsap/react';
import { ScrollTrigger } from "gsap/ScrollTrigger";

gsap.registerPlugin(useGSAP, ScrollTrigger);

const Footer = () => {
    const footerRef = useRef(null);


    useGSAP(() => {
        const footer = footerRef.current;

        // Set màu ban đầu
        gsap.set(footer, { backgroundColor: 'white' });
        gsap.set([
            `.${styles.link}`,
            `.${styles.social}`,
            `.${styles.copyright}`
        ], { color: 'black' });
        gsap.set(`.${styles.logo} path`, { fill: 'black' });

        ScrollTrigger.create({
            trigger: footer,
            start: 'top 20%',
            onEnter: () => {
                // Timeline để animate tất cả cùng lúc
                const tl = gsap.timeline();

                tl.to(footer, {
                    backgroundColor: '#5C4439',
                    duration: 0.5
                })
                    .to([
                        `.${styles.link}`,
                        `.${styles.social}`,
                        `.${styles.copyright}`
                    ], {
                        color: 'white',
                        duration: 0.5
                    }, 0)
                    .to(`.${styles.logo} path`, {
                        fill: 'white',
                        duration: 0.5
                    }, 0);
            }
        });
    }, { scope: footerRef });

    return (
        <div className={styles.footer} ref={footerRef}>
            <div className={styles.cols}>
                <div className={styles.col1}>
                    <a className={styles.link}>Jackets</a>
                    <a className={styles.link}>Pants</a>
                    <a className={styles.link}>Sweaters</a>
                    <a className={styles.link}>Shirts</a>
                    <a className={styles.link}>Scarves</a>
                </div>
                <div className={styles.col2and3}>
                    <div className={styles.col2}>
                        <a className={styles.link}>About</a>
                        <a className={styles.link}>Account</a>
                        <a className={styles.link}>Help</a>
                        <a className={styles.link}>Contact</a>
                        <a className={styles.link}>Gift Card</a>
                        <a className={styles.link}>Track Your Orders</a>
                    </div>
                    <div className={styles.col3}>
                        <a className={styles.link}>Shipping</a>
                        <a className={styles.link}>My Returns</a>
                        <a className={styles.link}>Policy</a>
                        <a className={styles.link}>Sitemap</a>
                        <a className={styles.link}>FAQ</a>
                    </div>
                </div>
            </div>
            <div className={styles.sAndC}>
                <div className={styles.socials}>
                    <a className={styles.social}>Facebook</a>
                    <a className={styles.social}>Instagram</a>
                    <a className={styles.social}>Tiktok</a>
                    <a className={styles.social}>X</a>
                </div>
                <p className={styles.copyright}>COPYRIGHT BY HYSTUDIO 2027</p>
            </div>
            <svg className={styles.logo} viewBox="0 0 1440 233" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M158.07 17.4902C171.49 26.9502 181.94 39.9302 189.42 56.4302C196.9 72.9302 200.64 91.6302 200.64 112.53C200.64 133.43 196.9 152.46 189.42 169.62C181.94 186.78 171.49 200.2 158.07 209.88C149.49 216.04 139.59 220.55 128.37 223.41C117.37 226.27 103.84 227.7 87.7801 227.7H4.97624e-05V225.06L27.0601 222.42V5.28019L4.97624e-05 2.64018V0.00017643H87.7801C117.7 0.00017643 141.13 5.83018 158.07 17.4902ZM146.19 204.27C153.23 195.25 158.73 182.49 162.69 165.99C166.87 149.27 168.96 130.9 168.96 110.88C168.96 91.3002 166.98 74.0302 163.02 59.0702C159.28 44.1102 153.67 32.2302 146.19 23.4302C140.03 16.1702 132.44 11.1102 123.42 8.25019C114.4 5.39019 101.53 3.96018 84.8101 3.96018H52.4701V223.74H84.8101C102.41 223.74 115.61 222.31 124.41 219.45C133.21 216.59 140.47 211.53 146.19 204.27ZM406.648 158.4L398.398 227.7H236.698V225.06L263.758 222.42V5.28019L236.698 2.64018V0.00017643H398.728L403.348 62.0402L400.048 62.3702L381.568 16.1702C379.588 11.1102 377.388 7.81019 374.968 6.27019C372.768 4.73019 369.028 3.96018 363.748 3.96018H289.168V105.27H338.008C343.288 105.27 347.028 104.39 349.228 102.63C351.428 100.87 352.968 97.4602 353.848 92.4002L359.458 65.6702H363.418V150.15H359.458L353.848 123.42C352.968 118.36 351.428 114.95 349.228 113.19C347.028 111.43 343.288 110.55 338.008 110.55H289.168V223.74H363.088C368.368 223.74 372.218 222.97 374.638 221.43C377.058 219.67 379.258 216.37 381.238 211.53L403.018 158.07L406.648 158.4ZM617.311 6.27019C615.771 5.17018 613.241 4.51018 609.721 4.29018L589.591 2.64018V0.00017643H659.881V2.64018L641.401 4.29018C635.901 4.73019 631.941 5.83019 629.521 7.59018C627.321 9.13018 625.341 12.4302 623.581 17.4902L542.731 232.98H536.791L453.301 5.28019L426.241 2.64018V0.00017643H508.741V2.64018L480.031 5.28019L549.991 196.35H551.311L618.301 17.4902C619.181 15.2902 619.621 13.2002 619.621 11.2202C619.621 9.02019 618.851 7.37019 617.311 6.27019ZM838.148 158.4L829.898 227.7H668.198V225.06L695.258 222.42V5.28019L668.198 2.64018V0.00017643H830.228L834.848 62.0402L831.548 62.3702L813.068 16.1702C811.088 11.1102 808.888 7.81019 806.468 6.27019C804.268 4.73019 800.528 3.96018 795.248 3.96018H720.668V105.27H769.508C774.788 105.27 778.528 104.39 780.728 102.63C782.928 100.87 784.468 97.4602 785.348 92.4002L790.958 65.6702H794.918V150.15H790.958L785.348 123.42C784.468 118.36 782.928 114.95 780.728 113.19C778.528 111.43 774.788 110.55 769.508 110.55H720.668V223.74H794.588C799.868 223.74 803.718 222.97 806.138 221.43C808.558 219.67 810.758 216.37 812.738 211.53L834.518 158.07L838.148 158.4ZM1101.24 0.00017643V2.64018L1077.48 5.28019C1072.2 5.94019 1068.68 7.26019 1066.92 9.24018C1065.16 11.2202 1064.28 14.8502 1064.28 20.1302V232.98H1060.98L912.814 22.7702H911.494V207.57C911.494 212.85 912.154 216.59 913.474 218.79C914.794 220.77 917.434 221.98 921.394 222.42L944.824 225.06V227.7H872.554V225.06L896.314 222.42C900.274 221.98 902.914 220.77 904.234 218.79C905.554 216.59 906.214 212.85 906.214 207.57V15.5102L904.894 13.5302C901.814 9.13018 898.844 6.27019 895.984 4.95019C893.344 3.41018 889.384 2.64018 884.104 2.64018H878.494V0.00017643H927.664L1057.68 182.16H1059V20.1302C1059 14.8502 1058.34 11.1102 1057.02 8.91018C1055.7 6.71018 1053.06 5.50018 1049.1 5.28019L1022.37 2.64018V0.00017643H1101.24ZM1126.45 0.00017643H1205.98V2.64018L1178.92 5.28019V222.42L1205.98 225.06V227.7H1126.45V225.06L1153.51 222.42V5.28019L1126.45 2.64018V0.00017643ZM1439.38 225.06V227.7H1405.39C1400.11 227.7 1396.15 226.93 1393.51 225.39C1390.87 223.85 1388.12 220.88 1385.26 216.48L1334.77 134.97C1331.69 129.91 1329.05 126.83 1326.85 125.73C1324.87 124.41 1321.24 123.75 1315.96 123.75H1291.54V222.42L1320.25 225.06V227.7H1239.07V225.06L1266.13 222.42V5.28019L1239.07 2.64018V0.00017643H1322.56C1348.52 0.00017643 1368.32 5.28018 1381.96 15.8402C1395.6 26.1802 1402.42 41.2502 1402.42 61.0502C1402.42 76.4502 1398.24 89.1002 1389.88 99.0002C1381.52 108.9 1369.42 115.72 1353.58 119.46H1353.91L1414.3 213.84C1417.16 218.24 1419.91 221.21 1422.55 222.75C1425.41 224.29 1429.48 225.06 1434.76 225.06H1439.38ZM1291.54 3.96018V118.8H1321.57C1339.17 118.8 1352.15 114.18 1360.51 104.94C1369.09 95.4802 1373.38 81.0702 1373.38 61.7102C1373.38 42.1302 1369.09 27.6102 1360.51 18.1502C1351.93 8.69018 1338.95 3.96018 1321.57 3.96018H1291.54Z" fill="white" />
            </svg>
        </div>
    );
};

export default Footer;